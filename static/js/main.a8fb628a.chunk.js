(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{19:function(e,t,r){e.exports={month_box:"employeesBirthday_month_box__1Q1CH",birthday_box:"employeesBirthday_birthday_box__1f_WN"}},40:function(e,t,r){},41:function(e,t,r){},65:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(0),c=r.n(s),a=r(13),i=r.n(a),o=(r(40),r(41),r(34)),u=r(8),d=r(10),l=r(32),h=r(3),b="pointedUsers",j=function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)},f=function(e,t){var r=localStorage.getItem("pointedUsers");if(r){var n=JSON.parse(r);n.push(t),localStorage.setItem(e,JSON.stringify(n))}else{var s=[t];localStorage.setItem(e,JSON.stringify(s))}},p=function(e,t){var r=localStorage.getItem(b);if(r){var n=JSON.parse(r);localStorage.setItem(e,JSON.stringify(n.filter((function(e){return e.id!==t.id}))))}},y={users:{}},O=function(e){for(var t={},r=65;r<91;r++)t[String.fromCharCode(r)]=[];var n=j(b);return e.forEach((function(e){e.isChecked=!!n&&n.some((function(t){return t.id===e.id})),t[e.lastName[0]].push(e)})),t},m=["January","February","March","April","May","June","July","August","September","October","November","December"],_=function(){var e={};return m.forEach((function(t){return e[t]=[]})),j(b).forEach((function(t){return e[x(t.dob)].push(t)})),e},x=function(e){var t=new Date(e);return m[t.getMonth()]},v={usersBirthday:{}},g=Object(d.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"usersReducer/GET_USERS":return Object(h.a)(Object(h.a)({},e),{},{users:Object(h.a)({},t.users)});case"usersReducer/CHANGE_USER_IS_CHECKED":var r=Object(h.a)({},e.users);return r[t.letterBox].forEach((function(e){e.id===t.user.id&&(e.isChecked=!e.isChecked,e.isChecked?f(b,t.user):p(b,t.user))})),Object(h.a)(Object(h.a)({},e),{},{users:r})}return e},usersBirthday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"usersBirthdayReducer/GET_MONTH":return Object(h.a)(Object(h.a)({},e),{},{usersBirthday:Object(h.a)({},t.usersBirthday)});case"usersBirthdayReducer/SET_USER_BIRTHDAY":var r=x(t.user.dob),n=Object(h.a)({},e.usersBirthday);return n[r].push(t.user),Object(h.a)(Object(h.a)({},e),{},{usersBirthday:n});case"usersBirthdayReducer/REMOVE_USER_BIRTHDAY":var s=Object(h.a)({},e.usersBirthday),c=x(t.user.dob);return s[c]=s[c].filter((function(e){return e.id!==t.user.id})),Object(h.a)(Object(h.a)({},e),{},{usersBirthday:s})}return e}}),E=Object(d.d)(g,Object(d.a)(l.a)),N=r(11),S=r.n(N),B=r(15),C=r(33),R=r.n(C).a.create({baseURL:"https://yalantis-react-school-api.yalantis.com/api/task0/users",headers:{"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"*","Access-Control-Allow-Origin":"*"}}),T=function(){return R.get("").then((function(e){return e.data}))},A=function(e){return{type:"usersReducer/GET_USERS",users:e}},w=function(e,t){return{type:"usersReducer/CHANGE_USER_IS_CHECKED",letterBox:e,user:t}},k=r(7),I=r.n(k),H=function(e){var t=e.user,r=e.onChangeCheckBox;return Object(n.jsxs)("div",{className:I.a.employee_container,children:[Object(n.jsxs)("div",{children:[t.lastName," ",t.firstName]}),Object(n.jsx)("input",{onChange:function(){r(t)},type:"checkbox",checked:t.isChecked})]})},U=function(e){return{type:"usersBirthdayReducer/GET_MONTH",usersBirthday:e}},J=function(e){return{type:"usersBirthdayReducer/SET_USER_BIRTHDAY",user:e}},D=function(e){return{type:"usersBirthdayReducer/REMOVE_USER_BIRTHDAY",user:e}},F=function(e){var t=e.userBox,r=Object(u.b)(),s=function(e){e.isChecked?(r(w(t.boxName,e)),r(D(e))):(r(w(t.boxName,e)),r(J(e)))};return Object(n.jsxs)("div",{className:I.a.employees_container,children:[Object(n.jsx)("div",{style:{fontWeight:"bold",backgroundColor:"#ACE5FF"},children:t.boxName}),0===t.users.length?Object(n.jsx)("div",{children:"-----"}):t.users.map((function(e){return Object(n.jsx)(H,{user:e,onChangeCheckBox:s},e.id)}))]})},M=function(){var e=Object(u.c)((function(e){return e})).users;return Object(n.jsxs)("div",{className:I.a.employees_wrapper,children:[Object(n.jsx)("div",{className:I.a.head_style,children:"Employees"}),Object(n.jsx)("div",{className:I.a.basic_container,style:{display:"flex"},children:Object.entries(e.users).map((function(e){return Object(n.jsx)(F,{userBox:{boxName:e[0],users:e[1]}},e[0])}))})]})},G=r(19),P=r.n(G),L=function(e){var t=e.user,r=t.dob.slice(0,4),s=x(t.dob),c=t.dob.slice(8,10),a="".concat(c," ").concat(s,", ").concat(r," year");return Object(n.jsxs)("li",{style:{width:"100%",padding:"1% 0"},children:[t.lastName," ",t.lastName," - ",a]})},Y=function(e){var t=e.monthName,r=e.users;return Object(n.jsxs)("div",{className:P.a.month_box,children:[Object(n.jsx)("div",{style:{fontWeight:"bold"},children:t}),Object(n.jsx)("div",{className:P.a.birthday_box,children:r.map((function(e){return Object(n.jsx)(L,{user:e},e.id)}))})]})},K=function(){var e=Object(u.c)((function(e){return e})).usersBirthday,t=Object.entries(e.usersBirthday).find((function(e){return e[1].length>0}));return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:I.a.employees_wrapper,children:[Object(n.jsx)("div",{className:I.a.head_style,children:"Employees birthday"}),t?Object(n.jsx)("div",{className:I.a.basic_container,style:{display:"flex"},children:Object.entries(e.usersBirthday).map((function(e){if(e[1].length>0)return Object(n.jsx)(Y,{monthName:e[0],users:e[1]},e[0])}))}):Object(n.jsx)("div",{style:{color:"red",fontSize:"1.4rem"},children:"No selected employees"})]})})};function W(){var e=Object(u.b)();return Object(s.useEffect)((function(){e(function(){var e=Object(B.a)(S.a.mark((function e(t){var r,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:(r=e.sent)&&(n=O(r),t(A(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(B.a)(S.a.mark((function e(t){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=_(),t(U(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(M,{}),Object(n.jsx)(K,{})]})}function z(){return Object(n.jsx)(o.a,{children:Object(n.jsx)(u.a,{store:E,children:Object(n.jsx)("div",{className:"App_container",children:Object(n.jsx)(W,{})})})})}var V=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,66)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,a=t.getTTFB;r(e),n(e),s(e),c(e),a(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(z,{})}),document.getElementById("root")),V()},7:function(e,t,r){e.exports={employees_wrapper:"employee_employees_wrapper__1FKie",basic_container:"employee_basic_container__373On",employees_container:"employee_employees_container__2IzeT",employee_container:"employee_employee_container__1FScO",head_style:"employee_head_style__12eP0"}}},[[65,1,2]]]);
//# sourceMappingURL=main.a8fb628a.chunk.js.map